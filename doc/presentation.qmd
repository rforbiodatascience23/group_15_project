---
title: "NHGH analysis"
format:
  revealjs:
     embed-resources: true
     theme: moon
      
author: "Katrine Meldgård, Margrethe Bøe Lysø, Kristine Rosted Petersen, Enrico Leonardi and Pernille Jensen"
---


## Introduction

Diabetes Mellitus is a chronic disease.

-   Pancreas fails to produce sufficient amount of insulin.
-   The body cannot effectively utilize the insulin it generates.

Problem: More than 422 million people have diabetes and 1.5
million deaths each year are directly attributed to diabetes.

Kidney disease?

AIM of the project


## Method
Data set contained X observations with X variables after cleaning

Data Wrangling

Added 


## Descriptive analysis
<div style="display: flex; flex-wrap: wrap;">

<!-- Upper Left: Text -->
<div style="flex: 50%; box-sizing: border-box; padding: 10px;">
Observations: 6795<br>
Variables (augmented): 26<br>
Diagnosed: 914<br>
Medicated: 607<br>
</div>

<!-- Upper Right: Plot 2 -->
<div style="flex: 50%; box-sizing: border-box; padding: 10px;">
```{r bmi-dist-plot, echo=FALSE, out.width='100%'}
knitr::include_graphics("../results/04_bmi_dist.png")
```
</div>

<!-- Lower Left: Plot 1 -->
<div style="flex: 50%; box-sizing: border-box; padding: 10px;">
```{r age-dist-plot, echo=FALSE, out.width='100%'}
knitr::include_graphics("../results/04_age_dist.png")
```
</div>

<!-- Lower Right: Plot 3 -->
<div style="flex: 50%; box-sizing: border-box; padding: 10px;">
```{r bmi-dist-diagnosed-plot, echo=FALSE, out.width='100%'}
knitr::include_graphics("../results/04_bmi_dist_diagnosed.png")
```
</div>

## Income vs. medication

## Diagnosis effect on variables

## ???

## PCA Analysis {.smaller}
:::: {.columns}

::: {.column width="50%"}
::: {.nonincremental}
- Data
  - Non-medicated individuals
  - No observations with NA
  - Only anthropometric and biomarker measurements
- Classes not seperated
:::
:::


![](../results/07_PCA_plot.png){.absolute top=0 width=50% right=0}
![](../results/07_pc_variance.png){.absolute bottom=0 width=50% right=0}

::::




## Logistic regression model


## Classification {.smaller}
:::: {.columns}
```{r}
#| message: false
library('tidyverse')
auc_value <- read_tsv(file = '../results/auc_value.tsv') |>
  pull(.estimate)
```


::: {.column width="60%"}
::: {.nonincremental}
- Model based on parameters found by LR
- Data
  - Non-medicated individuals
  - No observations with NA
- ~all predicted as 0
- AUC = `r auc_value`
:::

:::

![](../results/09_classification_conf_matrix.png){.absolute top=0 width=50% right=0}
![](../results/09_classification_ROC_curve.png){.absolute bottom=0 width=50% right=0}

::::


## Discussion



